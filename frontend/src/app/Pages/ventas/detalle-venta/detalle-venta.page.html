<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/ver-ventas"></ion-back-button>
    </ion-buttons>
    <ion-title>Detalle de Venta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" *ngIf="venta">

  <!-- Información del cliente -->
  <ion-card *ngIf="venta?.pedido?.users_permissions_user">
    <ion-card-header>
      <ion-card-title>Información del Cliente</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p><strong>Nombre:</strong> {{ venta.pedido.users_permissions_user.username }}</p>
      <p><strong>Email:</strong> {{ venta.pedido.users_permissions_user.email }}</p>
    </ion-card-content>
  </ion-card>

  <!-- Productos vendidos -->
  <ion-card *ngIf="venta?.pedido?.detalles_pedidos?.length">
    <ion-card-header>
      <ion-card-title>Productos vendidos</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let detalle of venta.pedido.detalles_pedidos">
          <ion-label>
            <h3>{{ detalle.producto?.nombre || 'Producto eliminado' }}</h3>
            <p>Cantidad: {{ detalle.cantidad }}</p>
            <p>Subtotal: ${{ detalle.subtotal }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

</ion-content>
